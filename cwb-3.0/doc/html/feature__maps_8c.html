<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CWB: utils/feature_maps.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_0fd7298e6c8649bb41921df976023b83.html">utils</a>
  </div>
</div>
<div class="contents">
<h1>feature_maps.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="feature__maps_8h.html">feature_maps.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="barlib_8h.html">barlib.h</a>&quot;</code><br/>
<h2>Functions</h2>
<ul>
<li>void <a class="el" href="feature__maps_8c.html#a70d84389e10769651ac8977307897b6a">init_char_map</a> ()
<dl class="el"><dd class="mdescRight">initialises char_mpa, qv  <a href="#a70d84389e10769651ac8977307897b6a"></a><br/></dl><li><a class="el" href="structfeature__maps__t.html">FMS</a> <a class="el" href="feature__maps_8c.html#a26d7a123154f8cd5cbb70da2c744af58">create_feature_maps</a> (char **<a class="el" href="cwb-align_8c.html#ac33cd46fdc13e84798f29ba36fca7c49">config</a>, int <a class="el" href="cwb-align_8c.html#af9e9b17b172c26928f89b715e5502f7a">config_lines</a>, <a class="el" href="union___attribute.html">Attribute</a> *w_attr1, <a class="el" href="union___attribute.html">Attribute</a> *w_attr2, <a class="el" href="union___attribute.html">Attribute</a> *s_attr1, <a class="el" href="union___attribute.html">Attribute</a> *s_attr2)
<dl class="el"><dd class="mdescRight">Creates feature maps for a source/target corpus pair.  <a href="#a26d7a123154f8cd5cbb70da2c744af58"></a><br/></dl><li>int <a class="el" href="feature__maps_8c.html#a9c4519fb53f3d68a463eca149fdad7e8">feature_match</a> (<a class="el" href="structfeature__maps__t.html">feature_maps_t</a> *fms, int f1, int l1, int f2, int l2)
<dl class="el"><dd class="mdescRight">Sim = feature_match(FMS, source_first, source_last, target_first, target_last);.  <a href="#a9c4519fb53f3d68a463eca149fdad7e8"></a><br/></dl><li>int * <a class="el" href="feature__maps_8c.html#a9e72d66c846aa1354e001d1d0c00aee5">get_fvector</a> (<a class="el" href="structfeature__maps__t.html">FMS</a> fms)
<dl class="el"><dd class="mdescRight">Feature count vector handling (used internally by feature_match).  <a href="#a9e72d66c846aa1354e001d1d0c00aee5"></a><br/></dl><li>void <a class="el" href="feature__maps_8c.html#a8434c691124c3f744b21c938b7c933d1">release_fvector</a> (int *fvector, <a class="el" href="structfeature__maps__t.html">FMS</a> fms)
<dl class="el"><dd class="mdescRight">Inserts a new <a class="el" href="structvstack__t.html" title="Data structure for the vstack member of the FMS object.">vstack_t</a> at the start of the vstack member of the given FMS.  <a href="#a8434c691124c3f744b21c938b7c933d1"></a><br/></dl><li>void <a class="el" href="feature__maps_8c.html#a17fb6034d6db383984921397dd3b84d7">check_fvectors</a> (<a class="el" href="structfeature__maps__t.html">FMS</a> fms)
<dl class="el"><dd class="mdescRight">Prints a message about the vector stack of the given FMS.  <a href="#a17fb6034d6db383984921397dd3b84d7"></a><br/></dl><li>void <a class="el" href="feature__maps_8c.html#a645770de72b8b9d14feec79e87aab137">show_features</a> (<a class="el" href="structfeature__maps__t.html">FMS</a> fms, int which, char *word)
<dl class="el"><dd class="mdescRight">Prints the features in an FMS to STDOUT.  <a href="#a645770de72b8b9d14feec79e87aab137"></a><br/></dl><li>void <a class="el" href="feature__maps_8c.html#ae625acd3e78c025421432ee6d4b61553">best_path</a> (<a class="el" href="structfeature__maps__t.html">FMS</a> fms, int f1, int l1, int f2, int l2, int <a class="el" href="cwb-align_8c.html#a4b5a7d3f565a28f87e850d34d009fb7f">beam_width</a>, int <a class="el" href="cwb-encode_8c.html#a0b2caeb4b6f130be43e5a2f0267dd453">verbose</a>, int *steps, int **out1, int **out2, int **out_quality)
<dl class="el"><dd class="mdescRight">Finds the best alignment path for the given regions of sentences in source and target corpus.  <a href="#ae625acd3e78c025421432ee6d4b61553"></a><br/></dl></ul>
<h2>Variables</h2>
<ul>
<li>int <a class="el" href="feature__maps_8c.html#a55ded3a7db80f158c668c5dfd764dca9">char_map_range</a> = 0
<dl class="el"><dd class="mdescRight">the top of the range of char_map's outputs  <a href="#a55ded3a7db80f158c668c5dfd764dca9"></a><br/></dl><li>unsigned char <a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c">char_map</a> [256]
<dl class="el"><dd class="mdescRight">a character map for accented characters.  <a href="#a23ef6ec1a12d6eea4de5810062a9668c"></a><br/></dl></ul>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ae625acd3e78c025421432ee6d4b61553"></a><!-- doxytag: member="feature_maps.c::best_path" ref="ae625acd3e78c025421432ee6d4b61553" args="(FMS fms, int f1, int l1, int f2, int l2, int beam_width, int verbose, int *steps, int **out1, int **out2, int **out_quality)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void best_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">FMS</a>&nbsp;</td>
          <td class="paramname"> <em>fms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>l1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>f2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>l2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>beam_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>out1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>out2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&nbsp;</td>
          <td class="paramname"> <em>out_quality</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds the best alignment path for the given regions of sentences in source and target corpus. </p>
<p>This function does a beamed dynamic programming search for the best path aligning the sentence regions (f1,l1) in the source corpus and (f2,l2) in the target corpus.</p>
<p>Allowed alignments are 1:0 0:1 1:1 2:1 1:2.</p>
<p>The results are returned in the vectors out1 and out2, which each contain a number of valid entries (alignment points) equal to {steps}.</p>
<p>Alignment points are given as sentence numbers and correspond to the start points of the sentences. At the end-of-region alignment point, sentence numbers will be l1 + 1 and l2 + 1, which must be considered by the caller if l1 (or l2) is the last sentence in the corpus!</p>
<p>The similarity measures of aligned regions are returned in the vector out_quality.</p>
<p>Memory allocated for the return vectors (out1, out2, out_quality) is managed by <a class="el" href="feature__maps_8c.html#ae625acd3e78c025421432ee6d4b61553" title="Finds the best alignment path for the given regions of sentences in source and target...">best_path()</a> and must not be freed by the caller. Calling <a class="el" href="feature__maps_8c.html#ae625acd3e78c025421432ee6d4b61553" title="Finds the best alignment path for the given regions of sentences in source and target...">best_path()</a> overwrites the results of the previous search.</p>
<p>Example usage:</p>
<p>best_path(FMS, f1, l1, f2, l2, beam_width, 0/1, &amp;steps, &amp;out1, &amp;out2, &amp;out_quality);</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fms</em>&nbsp;</td><td>The FMS to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f1</em>&nbsp;</td><td>Index of first sentence in source region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l1</em>&nbsp;</td><td>Index of last sentence in source region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f2</em>&nbsp;</td><td>Index of first sentence in target region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l2</em>&nbsp;</td><td>Index of last sentence in target region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>beam_width</em>&nbsp;</td><td>Parameter for the beam search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbose</em>&nbsp;</td><td>Boolean: iff true, prints progress messages on STDOUT. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>steps</em>&nbsp;</td><td>Put output here (see function description). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out1</em>&nbsp;</td><td>Put output here (see function description). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out2</em>&nbsp;</td><td>Put output here (see function description). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_quality</em>&nbsp;</td><td>Put output here (see function description). </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="barlib_8c.html#a26cb81965883d640a833e6f6e2f14e89">BAR_delete()</a>, <a class="el" href="barlib_8c.html#a713375f9458643fe6f7a56a9b78e74b1">BAR_new()</a>, <a class="el" href="barlib_8c.html#a954e8bca41efa9dacce7b677c9898bbf">BAR_read()</a>, <a class="el" href="barlib_8c.html#ac695ffba5e269641abf859eeaa5de3e2">BAR_write()</a>, and <a class="el" href="feature__maps_8c.html#a9c4519fb53f3d68a463eca149fdad7e8">feature_match()</a>.</p>

<p>Referenced by <a class="el" href="cwb-align_8c.html#acceb1d5f58c5176ea7d0cffe04cc5fa3">do_alignment()</a>.</p>

</div>
</div>
<a class="anchor" id="a17fb6034d6db383984921397dd3b84d7"></a><!-- doxytag: member="feature_maps.c::check_fvectors" ref="a17fb6034d6db383984921397dd3b84d7" args="(FMS fms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_fvectors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">FMS</a>&nbsp;</td>
          <td class="paramname"> <em>fms</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints a message about the vector stack of the given FMS. </p>
<p>If it finds a non-zero-count, it prints a message to STDERR. If it doesn't, it prints a message to STDOUT with the count of feature vectors.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fms</em>&nbsp;</td><td>The FMS to check. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structvstack__t.html#a2f58a200597c4a59b70cc72ef2424788">vstack_t::fcount</a>, <a class="el" href="structfeature__maps__t.html#a615f82e4ab2bc2a43685a7694f424034">feature_maps_t::n_features</a>, <a class="el" href="structvstack__t.html#aabba6792954f303d49542fa48ea4970b">vstack_t::next</a>, and <a class="el" href="structfeature__maps__t.html#ac7b1f647cad8ea029b9548de24f47079">feature_maps_t::vstack</a>.</p>

</div>
</div>
<a class="anchor" id="a26d7a123154f8cd5cbb70da2c744af58"></a><!-- doxytag: member="feature_maps.c::create_feature_maps" ref="a26d7a123154f8cd5cbb70da2c744af58" args="(char **config, int config_lines, Attribute *w_attr1, Attribute *w_attr2, Attribute *s_attr1, Attribute *s_attr2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfeature__maps__t.html">FMS</a> create_feature_maps </td>
          <td>(</td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>config_lines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union___attribute.html">Attribute</a> *&nbsp;</td>
          <td class="paramname"> <em>w_attr1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union___attribute.html">Attribute</a> *&nbsp;</td>
          <td class="paramname"> <em>w_attr2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union___attribute.html">Attribute</a> *&nbsp;</td>
          <td class="paramname"> <em>s_attr1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union___attribute.html">Attribute</a> *&nbsp;</td>
          <td class="paramname"> <em>s_attr2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates feature maps for a source/target corpus pair. </p>
<p>Example usage:</p>
<p>FMS = create_feature_maps(config_data, nr_of_config_lines, source_word, target_word, source_s, target_s);</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>config</em>&nbsp;</td><td>pointer to a list of strings representing the feature map configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>config_lines</em>&nbsp;</td><td>the number of configuration items stored in config_data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>w_attr1</em>&nbsp;</td><td>The p-attribute in the first corpus to link. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>w_attr2</em>&nbsp;</td><td>The p-attribute in the second corpus to link. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s_attr1</em>&nbsp;</td><td>The s-attribute in the first corpus to link. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s_attr2</em>&nbsp;</td><td>The s-attribute in the second corpus to link. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new FMS object. </dd></dl>

<p>References <a class="el" href="structfeature__maps__t.html#a3f33a107750fc1576a0296aacef9d3e1">feature_maps_t::att1</a>, <a class="el" href="structfeature__maps__t.html#a5769f2401439114e5bb502b0fe62bede">feature_maps_t::att2</a>, <a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c">char_map</a>, <a class="el" href="feature__maps_8c.html#a55ded3a7db80f158c668c5dfd764dca9">char_map_range</a>, <a class="el" href="cl_8h.html#a98301246cf29a634f0b770ea020bf19a">cl_id2freq</a>, <a class="el" href="cl_8h.html#a9aa8c5c3f3ad63b5b99e30b983828335">cl_id2str</a>, <a class="el" href="cl_8h.html#a97a7634aaf359628f093dfa009f83b48">cl_id2strlen</a>, <a class="el" href="cl_8h.html#ad2cb0116d085615487584ef5525eda90">cl_max_id</a>, <a class="el" href="cl_8h.html#a2f930d35fe0c08c57816d799a28e0bf6">cl_str2id</a>, <a class="el" href="structfeature__maps__t.html#a1b65e09dc1493589585fd3e556a75a27">feature_maps_t::fweight</a>, <a class="el" href="feature__maps_8c.html#a70d84389e10769651ac8977307897b6a">init_char_map()</a>, <a class="el" href="structfeature__maps__t.html#a615f82e4ab2bc2a43685a7694f424034">feature_maps_t::n_features</a>, <a class="el" href="structfeature__maps__t.html#aac99deaca25373d974a3efbdf554f837">feature_maps_t::s1</a>, <a class="el" href="structfeature__maps__t.html#a8ea4130966a8cc8c30768629f4c42084">feature_maps_t::s2</a>, <a class="el" href="structfeature__maps__t.html#ac7b1f647cad8ea029b9548de24f47079">feature_maps_t::vstack</a>, <a class="el" href="structfeature__maps__t.html#a786b9c6ff118fff4956bed0fad836c32">feature_maps_t::w2f1</a>, <a class="el" href="structfeature__maps__t.html#a7459877f520e0dc10cafdb7a5ecd1ced">feature_maps_t::w2f2</a>, <a class="el" href="cwb-align_8c.html#aa169cdf66f7c3d67468ae14af5910652">word1</a>, and <a class="el" href="cwb-align_8c.html#a3f289c42f752a8931f933c24fe6c04c6">word2</a>.</p>

<p>Referenced by <a class="el" href="cwb-align_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a9c4519fb53f3d68a463eca149fdad7e8"></a><!-- doxytag: member="feature_maps.c::feature_match" ref="a9c4519fb53f3d68a463eca149fdad7e8" args="(feature_maps_t *fms, int f1, int l1, int f2, int l2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int feature_match </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">feature_maps_t</a> *&nbsp;</td>
          <td class="paramname"> <em>fms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>f1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>l1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>f2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>l2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sim = feature_match(FMS, source_first, source_last, target_first, target_last);. </p>
<p>Compute similarity measure for source and target regions, where *_first and *_last specify the index of the first and last sentence in a region.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fms</em>&nbsp;</td><td>The feature map </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f1</em>&nbsp;</td><td>Index of first sentence in source region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l1</em>&nbsp;</td><td>Index of last sentence in source region </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>f2</em>&nbsp;</td><td>Index of first sentence in target region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>l2</em>&nbsp;</td><td>Index of last sentence in target region. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The similarity measure. </dd></dl>

<p>References <a class="el" href="structfeature__maps__t.html#a3f33a107750fc1576a0296aacef9d3e1">feature_maps_t::att1</a>, <a class="el" href="structfeature__maps__t.html#a5769f2401439114e5bb502b0fe62bede">feature_maps_t::att2</a>, <a class="el" href="structfeature__maps__t.html#a1b65e09dc1493589585fd3e556a75a27">feature_maps_t::fweight</a>, <a class="el" href="cdaccess_8c.html#a42e77e5222b7f4731e0b94f855ced4d3">get_bounds_of_nth_struc()</a>, <a class="el" href="feature__maps_8c.html#a9e72d66c846aa1354e001d1d0c00aee5">get_fvector()</a>, <a class="el" href="cdaccess_8c.html#a655947caaf34b27c4bd5641a012d6c56">get_id_at_position()</a>, <a class="el" href="feature__maps_8c.html#a8434c691124c3f744b21c938b7c933d1">release_fvector()</a>, <a class="el" href="structfeature__maps__t.html#aac99deaca25373d974a3efbdf554f837">feature_maps_t::s1</a>, <a class="el" href="structfeature__maps__t.html#a8ea4130966a8cc8c30768629f4c42084">feature_maps_t::s2</a>, <a class="el" href="structfeature__maps__t.html#a786b9c6ff118fff4956bed0fad836c32">feature_maps_t::w2f1</a>, and <a class="el" href="structfeature__maps__t.html#a7459877f520e0dc10cafdb7a5ecd1ced">feature_maps_t::w2f2</a>.</p>

<p>Referenced by <a class="el" href="feature__maps_8h.html#ae625acd3e78c025421432ee6d4b61553">best_path()</a>, and <a class="el" href="cwb-align_8c.html#acceb1d5f58c5176ea7d0cffe04cc5fa3">do_alignment()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e72d66c846aa1354e001d1d0c00aee5"></a><!-- doxytag: member="feature_maps.c::get_fvector" ref="a9e72d66c846aa1354e001d1d0c00aee5" args="(FMS fms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* get_fvector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">FMS</a>&nbsp;</td>
          <td class="paramname"> <em>fms</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Feature count vector handling (used internally by feature_match). </p>

<p>References <a class="el" href="structvstack__t.html#a2f58a200597c4a59b70cc72ef2424788">vstack_t::fcount</a>, <a class="el" href="structfeature__maps__t.html#a615f82e4ab2bc2a43685a7694f424034">feature_maps_t::n_features</a>, <a class="el" href="structvstack__t.html#aabba6792954f303d49542fa48ea4970b">vstack_t::next</a>, and <a class="el" href="structfeature__maps__t.html#ac7b1f647cad8ea029b9548de24f47079">feature_maps_t::vstack</a>.</p>

<p>Referenced by <a class="el" href="feature__maps_8c.html#a9c4519fb53f3d68a463eca149fdad7e8">feature_match()</a>.</p>

</div>
</div>
<a class="anchor" id="a70d84389e10769651ac8977307897b6a"></a><!-- doxytag: member="feature_maps.c::init_char_map" ref="a70d84389e10769651ac8977307897b6a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_char_map </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>initialises char_mpa, qv </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c" title="a character map for accented characters.">char_map</a> </dd></dl>

<p>References <a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c">char_map</a>, and <a class="el" href="feature__maps_8c.html#a55ded3a7db80f158c668c5dfd764dca9">char_map_range</a>.</p>

<p>Referenced by <a class="el" href="feature__maps_8h.html#a26d7a123154f8cd5cbb70da2c744af58">create_feature_maps()</a>.</p>

</div>
</div>
<a class="anchor" id="a8434c691124c3f744b21c938b7c933d1"></a><!-- doxytag: member="feature_maps.c::release_fvector" ref="a8434c691124c3f744b21c938b7c933d1" args="(int *fvector, FMS fms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void release_fvector </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>fvector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">FMS</a>&nbsp;</td>
          <td class="paramname"> <em>fms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts a new <a class="el" href="structvstack__t.html" title="Data structure for the vstack member of the FMS object.">vstack_t</a> at the start of the vstack member of the given FMS. </p>
<p>{That's what it looks like it does, not sure how the function name fits with that... ???? - AH} </p>

<p>References <a class="el" href="structfeature__maps__t.html#ac7b1f647cad8ea029b9548de24f47079">feature_maps_t::vstack</a>.</p>

<p>Referenced by <a class="el" href="feature__maps_8c.html#a9c4519fb53f3d68a463eca149fdad7e8">feature_match()</a>.</p>

</div>
</div>
<a class="anchor" id="a645770de72b8b9d14feec79e87aab137"></a><!-- doxytag: member="feature_maps.c::show_features" ref="a645770de72b8b9d14feec79e87aab137" args="(FMS fms, int which, char *word)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void show_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfeature__maps__t.html">FMS</a>&nbsp;</td>
          <td class="paramname"> <em>fms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>which</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>word</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prints the features in an FMS to STDOUT. </p>
<p>Usage: show_feature(FMS, 1/2, "word");</p>
<p>This will print all features listed in FMS for the token "word"; "word" is looked up in the source corpus if the 2nd argument == 1, and in the target corpus otherwise.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fms</em>&nbsp;</td><td>The FMS to print from. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>which</em>&nbsp;</td><td>Which corpus to look up? (See function description) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>word</em>&nbsp;</td><td>The token to look up. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structfeature__maps__t.html#a3f33a107750fc1576a0296aacef9d3e1">feature_maps_t::att1</a>, <a class="el" href="structfeature__maps__t.html#a5769f2401439114e5bb502b0fe62bede">feature_maps_t::att2</a>, <a class="el" href="structfeature__maps__t.html#a1b65e09dc1493589585fd3e556a75a27">feature_maps_t::fweight</a>, <a class="el" href="cdaccess_8c.html#a9f57508affc8a0eec51174ed6ab4090f">get_id_of_string()</a>, <a class="el" href="structfeature__maps__t.html#a786b9c6ff118fff4956bed0fad836c32">feature_maps_t::w2f1</a>, and <a class="el" href="structfeature__maps__t.html#a7459877f520e0dc10cafdb7a5ecd1ced">feature_maps_t::w2f2</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a23ef6ec1a12d6eea4de5810062a9668c"></a><!-- doxytag: member="feature_maps.c::char_map" ref="a23ef6ec1a12d6eea4de5810062a9668c" args="[256]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char <a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c">char_map</a>[256]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>a character map for accented characters. </p>

<p>Referenced by <a class="el" href="feature__maps_8h.html#a26d7a123154f8cd5cbb70da2c744af58">create_feature_maps()</a>, and <a class="el" href="feature__maps_8c.html#a70d84389e10769651ac8977307897b6a">init_char_map()</a>.</p>

</div>
</div>
<a class="anchor" id="a55ded3a7db80f158c668c5dfd764dca9"></a><!-- doxytag: member="feature_maps.c::char_map_range" ref="a55ded3a7db80f158c668c5dfd764dca9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="feature__maps_8c.html#a55ded3a7db80f158c668c5dfd764dca9">char_map_range</a> = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the top of the range of char_map's outputs </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="feature__maps_8c.html#a23ef6ec1a12d6eea4de5810062a9668c" title="a character map for accented characters.">char_map</a> </dd></dl>

<p>Referenced by <a class="el" href="feature__maps_8h.html#a26d7a123154f8cd5cbb70da2c744af58">create_feature_maps()</a>, and <a class="el" href="feature__maps_8c.html#a70d84389e10769651ac8977307897b6a">init_char_map()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Feb 28 18:08:04 2010 for CWB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
