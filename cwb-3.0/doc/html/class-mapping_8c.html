<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CWB: cl/class-mapping.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_b7d1217a2552bcc660f8266e8d836e86.html">cl</a>
  </div>
</div>
<div class="contents">
<h1>class-mapping.c File Reference</h1><code>#include &quot;<a class="el" href="globals_8h.html">globals.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="macros_8h.html">macros.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="cdaccess_8h.html">cdaccess.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="class-mapping_8h.html">class-mapping.h</a>&quot;</code><br/>
<h2>Defines</h2>
<ul>
<li>#define <a class="el" href="class-mapping_8c.html#aacd77fba571e190cbab0d35da6083d8e">NAME_TOKEN</a>&nbsp;&nbsp;&nbsp;&quot;#name &quot;
<dl class="el"><dd class="mdescRight">The token that identifies a "name" line in a mapping file.  <a href="#aacd77fba571e190cbab0d35da6083d8e"></a><br/></dl><li>#define <a class="el" href="class-mapping_8c.html#a8b4398db472bc6f556485ee83efdfc29">CLASS_REALLOC_THRESHOLD</a>&nbsp;&nbsp;&nbsp;16
<dl class="el"><dd class="mdescRight">increment for memory reallocation of classes in a SingleMapping  <a href="#a8b4398db472bc6f556485ee83efdfc29"></a><br/></dl><li>#define <a class="el" href="class-mapping_8c.html#ae62d422c8235a1588c0a260f847c1e3e">TOKEN_REALLOC_THRESHOLD</a>&nbsp;&nbsp;&nbsp;16
<dl class="el"><dd class="mdescRight">increment for memory reallocation of tokens in a SingleMapping  <a href="#ae62d422c8235a1588c0a260f847c1e3e"></a><br/></dl></ul>
<h2>Functions</h2>
<ul>
<li>int <a class="el" href="class-mapping_8c.html#a1b37040fc40f81cb1e5c735a914da79b">drop_single_mapping</a> (<a class="el" href="struct__single__mapping.html">SingleMapping</a> *smap)
<dl class="el"><dd class="mdescRight">Deletes a SingleMapping object.  <a href="#a1b37040fc40f81cb1e5c735a914da79b"></a><br/></dl><li>static int <a class="el" href="class-mapping_8c.html#ae98330ef3e5bb8dc3b997f5b8c83415e">intcompare</a> (const void *i, const void *j)
<li><a class="el" href="struct__mapping.html">Mapping</a> <a class="el" href="class-mapping_8c.html#a416d19ddd272a2c289369bc44f18b282">read_mapping</a> (<a class="el" href="struct_t_corpus.html">Corpus</a> *<a class="el" href="cwb-s-encode_8c.html#aca3a1fb765418f9b9b1d74051aa88667">corpus</a>, char *attr_name, char *file_name, char **error_string)
<dl class="el"><dd class="mdescRight">Creates a Mapping from a file.  <a href="#a416d19ddd272a2c289369bc44f18b282"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#adf0c4c450ecd53d223c6c67c0bf63f92">drop_mapping</a> (<a class="el" href="struct__mapping.html">Mapping</a> *map)
<dl class="el"><dd class="mdescRight">Deletes a Mapping object.  <a href="#adf0c4c450ecd53d223c6c67c0bf63f92"></a><br/></dl><li>void <a class="el" href="class-mapping_8c.html#a54c2e194b218d440667818b9208cc625">print_mapping</a> (<a class="el" href="struct__mapping.html">Mapping</a> map)
<dl class="el"><dd class="mdescRight">Writes a description of a Mapping object to STDERR.  <a href="#a54c2e194b218d440667818b9208cc625"></a><br/></dl><li><a class="el" href="struct__single__mapping.html">SingleMapping</a> <a class="el" href="class-mapping_8c.html#a5e2d698a781f95e090a4505db015451b">map_token_to_class</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, char *token)
<dl class="el"><dd class="mdescRight">Gets the SingleMapping that contains a particular token in the given Mapping.  <a href="#a5e2d698a781f95e090a4505db015451b"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#a36e096ce9d4d6d12ae6db314cf82f460">map_token_to_class_number</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, char *token)
<dl class="el"><dd class="mdescRight">Gets the number of the class that contains a particular token in the given Mapping.  <a href="#a36e096ce9d4d6d12ae6db314cf82f460"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#aca894a0480d71ea9c6f85c6f02ca525c">map_id_to_class_number</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, int id)
<dl class="el"><dd class="mdescRight">Gets the number of the class that contains a particular token in the given Mapping.  <a href="#aca894a0480d71ea9c6f85c6f02ca525c"></a><br/></dl><li>int * <a class="el" href="class-mapping_8c.html#a48ab4b422206cb01acf3af65b406b066">map_class_to_tokens</a> (<a class="el" href="struct__single__mapping.html">SingleMapping</a> map, int *nr_tokens)
<dl class="el"><dd class="mdescRight">Gets the location of the token IDs in this class.  <a href="#a48ab4b422206cb01acf3af65b406b066"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#a581cd967900483a4b0a4f725cfef7486">number_of_classes</a> (<a class="el" href="struct__mapping.html">Mapping</a> map)
<dl class="el"><dd class="mdescRight">Gets the number of classes possessed by this Mapping.  <a href="#a581cd967900483a4b0a4f725cfef7486"></a><br/></dl><li><a class="el" href="struct__single__mapping.html">SingleMapping</a> <a class="el" href="class-mapping_8c.html#aa7f31b566dac41f6a76ee17a7e5631c2">find_mapping</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, char *name)
<dl class="el"><dd class="mdescRight">Find a class within this mapping.  <a href="#aa7f31b566dac41f6a76ee17a7e5631c2"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#a9f8049fce882556dfe74793da50db652">number_of_tokens</a> (<a class="el" href="struct__single__mapping.html">SingleMapping</a> map)
<dl class="el"><dd class="mdescRight">Gets the number of tokens possessed by this Mapping.  <a href="#a9f8049fce882556dfe74793da50db652"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#a02edad94ebf884e3325157440785e4b3">member_of_class_s</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, <a class="el" href="struct__single__mapping.html">SingleMapping</a> class, char *token)
<dl class="el"><dd class="mdescRight">Checks whether a token is a member of a class in a Mapping.  <a href="#a02edad94ebf884e3325157440785e4b3"></a><br/></dl><li>int <a class="el" href="class-mapping_8c.html#a7ddcb6ebe3b51160fde9fe15ee052538">member_of_class_i</a> (<a class="el" href="struct__mapping.html">Mapping</a> map, <a class="el" href="struct__single__mapping.html">SingleMapping</a> class, int id)
<dl class="el"><dd class="mdescRight">Checks whether a token is a member of a class in a Mapping.  <a href="#a7ddcb6ebe3b51160fde9fe15ee052538"></a><br/></dl></ul>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a8b4398db472bc6f556485ee83efdfc29"></a><!-- doxytag: member="class&#45;mapping.c::CLASS_REALLOC_THRESHOLD" ref="a8b4398db472bc6f556485ee83efdfc29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CLASS_REALLOC_THRESHOLD&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>increment for memory reallocation of classes in a SingleMapping </p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="aacd77fba571e190cbab0d35da6083d8e"></a><!-- doxytag: member="class&#45;mapping.c::NAME_TOKEN" ref="aacd77fba571e190cbab0d35da6083d8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NAME_TOKEN&nbsp;&nbsp;&nbsp;&quot;#name &quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The token that identifies a "name" line in a mapping file. </p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="ae62d422c8235a1588c0a260f847c1e3e"></a><!-- doxytag: member="class&#45;mapping.c::TOKEN_REALLOC_THRESHOLD" ref="ae62d422c8235a1588c0a260f847c1e3e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOKEN_REALLOC_THRESHOLD&nbsp;&nbsp;&nbsp;16</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>increment for memory reallocation of tokens in a SingleMapping </p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="adf0c4c450ecd53d223c6c67c0bf63f92"></a><!-- doxytag: member="class&#45;mapping.c::drop_mapping" ref="adf0c4c450ecd53d223c6c67c0bf63f92" args="(Mapping *map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int drop_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a> *&nbsp;</td>
          <td class="paramname"> <em>map</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes a Mapping object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>Address of the object to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Always 1. </dd></dl>

<p>References <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>.</p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b37040fc40f81cb1e5c735a914da79b"></a><!-- doxytag: member="class&#45;mapping.c::drop_single_mapping" ref="a1b37040fc40f81cb1e5c735a914da79b" args="(SingleMapping *smap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int drop_single_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__single__mapping.html">SingleMapping</a> *&nbsp;</td>
          <td class="paramname"> <em>smap</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes a SingleMapping object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>smap</em>&nbsp;</td><td>Address of the object to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Always 1. </dd></dl>

<p>References <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>.</p>

</div>
</div>
<a class="anchor" id="aa7f31b566dac41f6a76ee17a7e5631c2"></a><!-- doxytag: member="class&#45;mapping.c::find_mapping" ref="aa7f31b566dac41f6a76ee17a7e5631c2" args="(Mapping map, char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__single__mapping.html">SingleMapping</a> find_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find a class within this mapping. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The Mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The class to look for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The SingleMapping containing the class which has the name "name". </dd></dl>

<p>References <a class="el" href="struct__single__mapping.html#aae3d1a72a2baf650faf76ec98669051e">_single_mapping::class_name</a>, <a class="el" href="struct__mapping.html#af9c554bdfff7d1f2f58a41dfbf3596b2">_mapping::classes</a>, and <a class="el" href="struct__mapping.html#ad88594354ad0cd1b5f3cebf37f8381cf">_mapping::nr_classes</a>.</p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="ae98330ef3e5bb8dc3b997f5b8c83415e"></a><!-- doxytag: member="class&#45;mapping.c::intcompare" ref="ae98330ef3e5bb8dc3b997f5b8c83415e" args="(const void *i, const void *j)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int intcompare </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>j</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class-mapping_8h.html#a7ddcb6ebe3b51160fde9fe15ee052538">member_of_class_i()</a>, and <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a48ab4b422206cb01acf3af65b406b066"></a><!-- doxytag: member="class&#45;mapping.c::map_class_to_tokens" ref="a48ab4b422206cb01acf3af65b406b066" args="(SingleMapping map, int *nr_tokens)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* map_class_to_tokens </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__single__mapping.html">SingleMapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>nr_tokens</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the location of the token IDs in this class. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The SingleMapping representing the class in question. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nr_tokens</em>&nbsp;</td><td>Address of an integer, which will be set to the number of tokens in this class. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to the token IDs of this class (don't free this!!) </dd></dl>

<p>References <a class="el" href="struct__single__mapping.html#a4c0ead051f33f313ff37088c4385e5d1">_single_mapping::nr_tokens</a>, and <a class="el" href="struct__single__mapping.html#ac78a8ead2257bccdecab1b3fc3330171">_single_mapping::tokens</a>.</p>

</div>
</div>
<a class="anchor" id="aca894a0480d71ea9c6f85c6f02ca525c"></a><!-- doxytag: member="class&#45;mapping.c::map_id_to_class_number" ref="aca894a0480d71ea9c6f85c6f02ca525c" args="(Mapping map, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int map_id_to_class_number </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of the class that contains a particular token in the given Mapping. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The Mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>The token to look for, identified by its integer ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The "class number" of the class containing the token (i.e. an index in the Mapping's "array" of SingleMappings) or -1 if the token was not found. </dd></dl>

<p>References <a class="el" href="struct__mapping.html#af9c554bdfff7d1f2f58a41dfbf3596b2">_mapping::classes</a>, <a class="el" href="class-mapping_8c.html#a7ddcb6ebe3b51160fde9fe15ee052538">member_of_class_i()</a>, and <a class="el" href="struct__mapping.html#ad88594354ad0cd1b5f3cebf37f8381cf">_mapping::nr_classes</a>.</p>

<p>Referenced by <a class="el" href="concordance_8h.html#a4155e7ddef475f76f6d066ff49afb011">get_position_values()</a>, and <a class="el" href="class-mapping_8h.html#a36e096ce9d4d6d12ae6db314cf82f460">map_token_to_class_number()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e2d698a781f95e090a4505db015451b"></a><!-- doxytag: member="class&#45;mapping.c::map_token_to_class" ref="a5e2d698a781f95e090a4505db015451b" args="(Mapping map, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__single__mapping.html">SingleMapping</a> map_token_to_class </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the SingleMapping that contains a particular token in the given Mapping. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The Mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The token to look for, identified by string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The SingleMapping representing the class that contains that token (or NULL if the token was not found). </dd></dl>

<p>References <a class="el" href="struct__mapping.html#af9c554bdfff7d1f2f58a41dfbf3596b2">_mapping::classes</a>, and <a class="el" href="class-mapping_8c.html#a36e096ce9d4d6d12ae6db314cf82f460">map_token_to_class_number()</a>.</p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a416d19ddd272a2c289369bc44f18b282">read_mapping()</a>.</p>

</div>
</div>
<a class="anchor" id="a36e096ce9d4d6d12ae6db314cf82f460"></a><!-- doxytag: member="class&#45;mapping.c::map_token_to_class_number" ref="a36e096ce9d4d6d12ae6db314cf82f460" args="(Mapping map, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int map_token_to_class_number </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of the class that contains a particular token in the given Mapping. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The Mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The token to look for, identified by string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The "class number" of the class containing the token (i.e. an index in the Mapping's "array" of SingleMappings) or -1 if the token was not found. </dd></dl>

<p>References <a class="el" href="struct__mapping.html#aa6941092bf1c0d49260bc71e63e5ef41">_mapping::attribute</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="cdaccess_8c.html#a19cdf6dd32b5379c47e316fc514b2f09">cderrno</a>, <a class="el" href="cdaccess_8c.html#a9f57508affc8a0eec51174ed6ab4090f">get_id_of_string()</a>, and <a class="el" href="class-mapping_8c.html#aca894a0480d71ea9c6f85c6f02ca525c">map_id_to_class_number()</a>.</p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#a5e2d698a781f95e090a4505db015451b">map_token_to_class()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ddcb6ebe3b51160fde9fe15ee052538"></a><!-- doxytag: member="class&#45;mapping.c::member_of_class_i" ref="a7ddcb6ebe3b51160fde9fe15ee052538" args="(Mapping map, SingleMapping class, int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int member_of_class_i </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__single__mapping.html">SingleMapping</a>&nbsp;</td>
          <td class="paramname"> <em>class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether a token is a member of a class in a Mapping. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class-mapping_8h.html#a02edad94ebf884e3325157440785e4b3" title="Checks whether a token is a member of a class in a Mapping.">member_of_class_s</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>class</em>&nbsp;</td><td>The class to check. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>The token to look for (identified by its integer ID). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean. </dd></dl>

<p>References <a class="el" href="class-mapping_8c.html#ae98330ef3e5bb8dc3b997f5b8c83415e">intcompare()</a>.</p>

<p>Referenced by <a class="el" href="class-mapping_8h.html#aca894a0480d71ea9c6f85c6f02ca525c">map_id_to_class_number()</a>, and <a class="el" href="class-mapping_8h.html#a02edad94ebf884e3325157440785e4b3">member_of_class_s()</a>.</p>

</div>
</div>
<a class="anchor" id="a02edad94ebf884e3325157440785e4b3"></a><!-- doxytag: member="class&#45;mapping.c::member_of_class_s" ref="a02edad94ebf884e3325157440785e4b3" args="(Mapping map, SingleMapping class, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int member_of_class_s </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__single__mapping.html">SingleMapping</a>&nbsp;</td>
          <td class="paramname"> <em>class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks whether a token is a member of a class in a Mapping. </p>
<p>The token is identified by its</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class-mapping_8h.html#a7ddcb6ebe3b51160fde9fe15ee052538" title="Checks whether a token is a member of a class in a Mapping.">member_of_class_i</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>map</em>&nbsp;</td><td>The mapping to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>class</em>&nbsp;</td><td>The class to check. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The token to look for (identified by its actual string). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean. </dd></dl>

<p>References <a class="el" href="struct__mapping.html#aa6941092bf1c0d49260bc71e63e5ef41">_mapping::attribute</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="cdaccess_8c.html#a19cdf6dd32b5379c47e316fc514b2f09">cderrno</a>, <a class="el" href="cdaccess_8c.html#a9f57508affc8a0eec51174ed6ab4090f">get_id_of_string()</a>, and <a class="el" href="class-mapping_8c.html#a7ddcb6ebe3b51160fde9fe15ee052538">member_of_class_i()</a>.</p>

</div>
</div>
<a class="anchor" id="a581cd967900483a4b0a4f725cfef7486"></a><!-- doxytag: member="class&#45;mapping.c::number_of_classes" ref="a581cd967900483a4b0a4f725cfef7486" args="(Mapping map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int number_of_classes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of classes possessed by this Mapping. </p>

<p>References <a class="el" href="struct__mapping.html#ad88594354ad0cd1b5f3cebf37f8381cf">_mapping::nr_classes</a>.</p>

</div>
</div>
<a class="anchor" id="a9f8049fce882556dfe74793da50db652"></a><!-- doxytag: member="class&#45;mapping.c::number_of_tokens" ref="a9f8049fce882556dfe74793da50db652" args="(SingleMapping map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int number_of_tokens </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__single__mapping.html">SingleMapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of tokens possessed by this Mapping. </p>

<p>References <a class="el" href="struct__single__mapping.html#a4c0ead051f33f313ff37088c4385e5d1">_single_mapping::nr_tokens</a>.</p>

</div>
</div>
<a class="anchor" id="a54c2e194b218d440667818b9208cc625"></a><!-- doxytag: member="class&#45;mapping.c::print_mapping" ref="a54c2e194b218d440667818b9208cc625" args="(Mapping map)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__mapping.html">Mapping</a>&nbsp;</td>
          <td class="paramname"> <em>map</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes a description of a Mapping object to STDERR. </p>

<p>References <a class="el" href="union___attribute.html#a92ee130caba4408ab4de51c602910107">_Attribute::any</a>, <a class="el" href="struct__mapping.html#aa6941092bf1c0d49260bc71e63e5ef41">_mapping::attribute</a>, <a class="el" href="struct__single__mapping.html#aae3d1a72a2baf650faf76ec98669051e">_single_mapping::class_name</a>, <a class="el" href="struct__mapping.html#af9c554bdfff7d1f2f58a41dfbf3596b2">_mapping::classes</a>, <a class="el" href="struct__mapping.html#aca3a1fb765418f9b9b1d74051aa88667">_mapping::corpus</a>, <a class="el" href="cdaccess_8c.html#a5ca2ad7f5f01418b8b8e30850601a0ff">get_string_of_id()</a>, <a class="el" href="struct__mapping.html#afc4e49ac3da25ee01a57f9a44e32d094">_mapping::mapping_name</a>, <a class="el" href="struct__mapping.html#ad88594354ad0cd1b5f3cebf37f8381cf">_mapping::nr_classes</a>, <a class="el" href="struct__single__mapping.html#a4c0ead051f33f313ff37088c4385e5d1">_single_mapping::nr_tokens</a>, <a class="el" href="struct_t_corpus.html#aba368bab230678d58be125f5b732cc25">TCorpus::registry_name</a>, and <a class="el" href="struct__single__mapping.html#ac78a8ead2257bccdecab1b3fc3330171">_single_mapping::tokens</a>.</p>

</div>
</div>
<a class="anchor" id="a416d19ddd272a2c289369bc44f18b282"></a><!-- doxytag: member="class&#45;mapping.c::read_mapping" ref="a416d19ddd272a2c289369bc44f18b282" args="(Corpus *corpus, char *attr_name, char *file_name, char **error_string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__mapping.html">Mapping</a> read_mapping </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_t_corpus.html">Corpus</a> *&nbsp;</td>
          <td class="paramname"> <em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>attr_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>file_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>error_string</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a Mapping from a file. </p>
<p>Each line in the file results in a SingleMapping (unless it begins in #, in which case it either indicates the name of the mapping or is a comment).</p>
<p>Within a single line, the first white-space delimited token represents the name of the class, and the other tokens are attribute values.</p>
<p>Any parse failure in the file will stop the entire Mapping-creation process and result in NULL being returned.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>corpus</em>&nbsp;</td><td>The corpus for which the Mapping is valid (pointer). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>attr_name</em>&nbsp;</td><td>String naming the attribute for which the mapping is valid. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file_name</em>&nbsp;</td><td>The filename of the map spec. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_string</em>&nbsp;</td><td>A char * (not char[]), which is set to an error string, or to NULL if all is OK. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The resulting Mapping object, or NULL in case of error. </dd></dl>

<p>References <a class="el" href="cl_8h.html#a3b60fdde6a7c8fbc535efaf526dbcb78">ATT_POS</a>, <a class="el" href="struct__mapping.html#aa6941092bf1c0d49260bc71e63e5ef41">_mapping::attribute</a>, <a class="el" href="cl_8h.html#a1fa2e2ab47bd2c689b68a78bdac22028">CDA_OK</a>, <a class="el" href="cdaccess_8c.html#a19cdf6dd32b5379c47e316fc514b2f09">cderrno</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="cl_8h.html#a7480d6ea66599014088f218912ddb89f">cl_realloc()</a>, <a class="el" href="cl_8h.html#a6647d75d1d69c7d25447da514b7e4682">cl_strdup()</a>, <a class="el" href="struct__single__mapping.html#aae3d1a72a2baf650faf76ec98669051e">_single_mapping::class_name</a>, <a class="el" href="class-mapping_8c.html#a8b4398db472bc6f556485ee83efdfc29">CLASS_REALLOC_THRESHOLD</a>, <a class="el" href="struct__mapping.html#af9c554bdfff7d1f2f58a41dfbf3596b2">_mapping::classes</a>, <a class="el" href="struct__mapping.html#aca3a1fb765418f9b9b1d74051aa88667">_mapping::corpus</a>, <a class="el" href="class-mapping_8c.html#adf0c4c450ecd53d223c6c67c0bf63f92">drop_mapping()</a>, <a class="el" href="attributes_8c.html#ade29ce8707ea27ed6797b1c1276bcfc9">find_attribute()</a>, <a class="el" href="class-mapping_8c.html#aa7f31b566dac41f6a76ee17a7e5631c2">find_mapping()</a>, <a class="el" href="cdaccess_8c.html#a9f57508affc8a0eec51174ed6ab4090f">get_id_of_string()</a>, <a class="el" href="class-mapping_8c.html#ae98330ef3e5bb8dc3b997f5b8c83415e">intcompare()</a>, <a class="el" href="class-mapping_8c.html#a5e2d698a781f95e090a4505db015451b">map_token_to_class()</a>, <a class="el" href="struct__mapping.html#afc4e49ac3da25ee01a57f9a44e32d094">_mapping::mapping_name</a>, <a class="el" href="class-mapping_8c.html#aacd77fba571e190cbab0d35da6083d8e">NAME_TOKEN</a>, <a class="el" href="struct__mapping.html#ad88594354ad0cd1b5f3cebf37f8381cf">_mapping::nr_classes</a>, <a class="el" href="struct__single__mapping.html#a4c0ead051f33f313ff37088c4385e5d1">_single_mapping::nr_tokens</a>, <a class="el" href="class-mapping_8c.html#ae62d422c8235a1588c0a260f847c1e3e">TOKEN_REALLOC_THRESHOLD</a>, and <a class="el" href="struct__single__mapping.html#ac78a8ead2257bccdecab1b3fc3330171">_single_mapping::tokens</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Feb 28 18:08:04 2010 for CWB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
