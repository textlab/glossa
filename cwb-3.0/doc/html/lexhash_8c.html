<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CWB: cl/lexhash.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_b7d1217a2552bcc660f8266e8d836e86.html">cl</a>
  </div>
</div>
<div class="contents">
<h1>lexhash.c File Reference</h1><code>#include &quot;<a class="el" href="globals_8h.html">globals.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="macros_8h.html">macros.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lexhash_8h.html">lexhash.h</a>&quot;</code><br/>
<h2>Data Structures</h2>
<ul>
<li>struct <a class="el" href="struct__cl__lexhash.html">_cl_lexhash</a>
<dl class="el"><dd class="mdescRight">Underlying structure for the cl_lexhash object.  <a href="struct__cl__lexhash.html#_details">More...</a><br/></dl></ul>
<h2>Defines</h2>
<ul>
<li>#define <a class="el" href="lexhash_8c.html#aa6f810c5bcfe8eaba4aa5d527bafb9cf">DEFAULT_NR_OF_BUCKETS</a>&nbsp;&nbsp;&nbsp;250000
<dl class="el"><dd class="mdescRight">Defines the default number of buckets in a lexhash.  <a href="#aa6f810c5bcfe8eaba4aa5d527bafb9cf"></a><br/></dl><li>#define <a class="el" href="lexhash_8c.html#af62ae8c142d859bd44a8c60c2d2cef3f">PERFORMANCE_COUNT</a>&nbsp;&nbsp;&nbsp;1000
<dl class="el"><dd class="mdescRight">The update interval for hash performance estimation.  <a href="#af62ae8c142d859bd44a8c60c2d2cef3f"></a><br/></dl><li>#define <a class="el" href="lexhash_8c.html#ad27dac711f9de482cf13dfc917f5f9d7">DEFAULT_PERFORMANCE_LIMIT</a>&nbsp;&nbsp;&nbsp;10
<dl class="el"><dd class="mdescRight">The default value for the performance limit (avg no of comparisons) before the hash is expanded.  <a href="#ad27dac711f9de482cf13dfc917f5f9d7"></a><br/></dl></ul>
<h2>Typedefs</h2>
<ul>
<li>typedef void(* <a class="el" href="lexhash_8c.html#a9cf68d16ee9092cf807d1620de957c3a">cl_lexhash_cleanup_func</a> )(<a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a>)
<dl class="el"><dd class="mdescRight">A function pointer type defining functions that can be used as the "cleanup" for a deleted cl_lexhash_entry.  <a href="#a9cf68d16ee9092cf807d1620de957c3a"></a><br/></dl></ul>
<h2>Functions</h2>
<ul>
<li>int <a class="el" href="lexhash_8c.html#ad6740255386952216cb75d813243a3ea">is_prime</a> (int n)
<dl class="el"><dd class="mdescRight">Returns True iff n is a prime.  <a href="#ad6740255386952216cb75d813243a3ea"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#a6bb4d75c3e8354cff3efd98002335877">find_prime</a> (int n)
<dl class="el"><dd class="mdescRight">Returns smallest prime &gt;= n.  <a href="#a6bb4d75c3e8354cff3efd98002335877"></a><br/></dl><li>unsigned int <a class="el" href="lexhash_8c.html#ac7b0e59697b408e515f7dd9b3d62b024">hash_string</a> (char *string)
<dl class="el"><dd class="mdescRight">Computes 32bit hash value for string.  <a href="#ac7b0e59697b408e515f7dd9b3d62b024"></a><br/></dl><li><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> <a class="el" href="lexhash_8c.html#a44f2692c5af7f16fc46640e31c7ae192">cl_new_lexhash</a> (int buckets)
<dl class="el"><dd class="mdescRight">Creates a new cl_lexhash object.  <a href="#a44f2692c5af7f16fc46640e31c7ae192"></a><br/></dl><li>void <a class="el" href="lexhash_8c.html#aa86b95ad85c13af5a6879bd7a6c0da0e">cl_delete_lexhash_entry</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, <a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> entry)
<dl class="el"><dd class="mdescRight">Deallocates a cl_lexhash_entry object and its key string.  <a href="#aa86b95ad85c13af5a6879bd7a6c0da0e"></a><br/></dl><li>void <a class="el" href="lexhash_8c.html#a79cff65dc33eac71c64d68c0ca085259">cl_delete_lexhash</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash)
<dl class="el"><dd class="mdescRight">Deletes a cl_lexhash object.  <a href="#a79cff65dc33eac71c64d68c0ca085259"></a><br/></dl><li>void <a class="el" href="lexhash_8c.html#a5b6c6f31923d6d5038067753b93f234f">cl_lexhash_set_cleanup_function</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, <a class="el" href="lexhash_8c.html#a9cf68d16ee9092cf807d1620de957c3a">cl_lexhash_cleanup_func</a> func)
<dl class="el"><dd class="mdescRight">Sets the cleanup function for a cl_lexhash.  <a href="#a5b6c6f31923d6d5038067753b93f234f"></a><br/></dl><li>void <a class="el" href="lexhash_8c.html#a2b0094a802868b6f907460cc3fa3e69d">cl_lexhash_auto_grow</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, int flag)
<dl class="el"><dd class="mdescRight">Turns a cl_lexhash's ability to autogrow on or off.  <a href="#a2b0094a802868b6f907460cc3fa3e69d"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash)
<dl class="el"><dd class="mdescRight">Grows a lexhash table, increasing the number of buckets, if necessary.  <a href="#ab0c83bcda2f4b258d99d41dcfef1dd30"></a><br/></dl><li><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token, unsigned int *ret_offset)
<dl class="el"><dd class="mdescRight">Finds the entry corresponding to a particular string in a cl_lexhash.  <a href="#a7afb45b7d798d20514dd22f2c8d1f8f1"></a><br/></dl><li><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> <a class="el" href="lexhash_8c.html#adfe47c1ca6be1ba4fa1586aad18f07d5">cl_lexhash_find</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token)
<dl class="el"><dd class="mdescRight">Finds the entry corresponding to a particular string within a cl_lexhash.  <a href="#adfe47c1ca6be1ba4fa1586aad18f07d5"></a><br/></dl><li><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> <a class="el" href="lexhash_8c.html#a4a0eb190bffe4ca27d93a2248aa63d9b">cl_lexhash_add</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token)
<dl class="el"><dd class="mdescRight">Adds a token to a cl_lexhash table.  <a href="#a4a0eb190bffe4ca27d93a2248aa63d9b"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#aae0563fa62a9c58eca14ea76576d0d68">cl_lexhash_id</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token)
<dl class="el"><dd class="mdescRight">Gets the ID of a particular string within a lexhash.  <a href="#aae0563fa62a9c58eca14ea76576d0d68"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#aa6ad8b1b54ae4f1e24a4fe1aa16679d8">cl_lexhash_freq</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token)
<dl class="el"><dd class="mdescRight">Gets the frequency of a particular string within a lexhash.  <a href="#aa6ad8b1b54ae4f1e24a4fe1aa16679d8"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#a51838f1751d9079cd17b9c35955d3fff">cl_lexhash_del</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash, char *token)
<dl class="el"><dd class="mdescRight">Deletes a string from a hash.  <a href="#a51838f1751d9079cd17b9c35955d3fff"></a><br/></dl><li>int <a class="el" href="lexhash_8c.html#abab373e5a4e2dd99dec63b13fc37faed">cl_lexhash_size</a> (<a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> hash)
<dl class="el"><dd class="mdescRight">Gets the number of different strings stored in a lexhash.  <a href="#abab373e5a4e2dd99dec63b13fc37faed"></a><br/></dl></ul>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aa6f810c5bcfe8eaba4aa5d527bafb9cf"></a><!-- doxytag: member="lexhash.c::DEFAULT_NR_OF_BUCKETS" ref="aa6f810c5bcfe8eaba4aa5d527bafb9cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_NR_OF_BUCKETS&nbsp;&nbsp;&nbsp;250000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defines the default number of buckets in a lexhash. </p>

<p>Referenced by <a class="el" href="lexhash_8c.html#a44f2692c5af7f16fc46640e31c7ae192">cl_new_lexhash()</a>.</p>

</div>
</div>
<a class="anchor" id="ad27dac711f9de482cf13dfc917f5f9d7"></a><!-- doxytag: member="lexhash.c::DEFAULT_PERFORMANCE_LIMIT" ref="ad27dac711f9de482cf13dfc917f5f9d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_PERFORMANCE_LIMIT&nbsp;&nbsp;&nbsp;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The default value for the performance limit (avg no of comparisons) before the hash is expanded. </p>

<p>Referenced by <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow()</a>.</p>

</div>
</div>
<a class="anchor" id="af62ae8c142d859bd44a8c60c2d2cef3f"></a><!-- doxytag: member="lexhash.c::PERFORMANCE_COUNT" ref="af62ae8c142d859bd44a8c60c2d2cef3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PERFORMANCE_COUNT&nbsp;&nbsp;&nbsp;1000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The update interval for hash performance estimation. </p>

<p>Referenced by <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow()</a>, <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>, and <a class="el" href="lexhash_8c.html#a44f2692c5af7f16fc46640e31c7ae192">cl_new_lexhash()</a>.</p>

</div>
</div>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a9cf68d16ee9092cf807d1620de957c3a"></a><!-- doxytag: member="lexhash.c::cl_lexhash_cleanup_func" ref="a9cf68d16ee9092cf807d1620de957c3a" args=")(cl_lexhash_entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="lexhash_8c.html#a9cf68d16ee9092cf807d1620de957c3a">cl_lexhash_cleanup_func</a>)(<a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A function pointer type defining functions that can be used as the "cleanup" for a deleted cl_lexhash_entry. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lexhash_8c.html#a5b6c6f31923d6d5038067753b93f234f" title="Sets the cleanup function for a cl_lexhash.">cl_lexhash_set_cleanup_function</a> </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a79cff65dc33eac71c64d68c0ca085259"></a><!-- doxytag: member="lexhash.c::cl_delete_lexhash" ref="a79cff65dc33eac71c64d68c0ca085259" args="(cl_lexhash hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_delete_lexhash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes a cl_lexhash object. </p>
<p>This deletes all the entries in all the buckets in the lexhash, plus the cl_lexhash itself.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The cl_lexhash to delete. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="struct__cl__lexhash.html#aedff83072c3ab4f3719e66edc63610d8">_cl_lexhash::buckets</a>, <a class="el" href="lexhash_8c.html#aa86b95ad85c13af5a6879bd7a6c0da0e">cl_delete_lexhash_entry()</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

<p>Referenced by <a class="el" href="cwb-align_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>.</p>

</div>
</div>
<a class="anchor" id="aa86b95ad85c13af5a6879bd7a6c0da0e"></a><!-- doxytag: member="lexhash.c::cl_delete_lexhash_entry" ref="aa86b95ad85c13af5a6879bd7a6c0da0e" args="(cl_lexhash hash, cl_lexhash_entry entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_delete_lexhash_entry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a>&nbsp;</td>
          <td class="paramname"> <em>entry</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deallocates a cl_lexhash_entry object and its key string. </p>
<p>Also, the cleanup function is run on the entry.</p>
<p>Usage: cl_delete_lexhash_entry(lexhash, entry);</p>
<p>This is a non-exported function.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lexhash_8c.html#a5b6c6f31923d6d5038067753b93f234f" title="Sets the cleanup function for a cl_lexhash.">cl_lexhash_set_cleanup_function</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The lexhash this entry belongs to (needed to locate the cleanup function, if any). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>entry</em>&nbsp;</td><td>The entry to delete. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="struct__cl__lexhash.html#a34fa040454883b11c906b5127080e586">_cl_lexhash::cleanup_func</a>, and <a class="el" href="struct__cl__lexhash__entry.html#a5892a9181e6a332f84d27aecd41dcd12">_cl_lexhash_entry::key</a>.</p>

<p>Referenced by <a class="el" href="lexhash_8c.html#a79cff65dc33eac71c64d68c0ca085259">cl_delete_lexhash()</a>, and <a class="el" href="lexhash_8c.html#a51838f1751d9079cd17b9c35955d3fff">cl_lexhash_del()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a0eb190bffe4ca27d93a2248aa63d9b"></a><!-- doxytag: member="lexhash.c::cl_lexhash_add" ref="a4a0eb190bffe4ca27d93a2248aa63d9b" args="(cl_lexhash hash, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> cl_lexhash_add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a token to a cl_lexhash table. </p>
<p>If the string is already in the hash, its frequency count is increased by 1.</p>
<p>Otherwise, a new entry is created, with an auto-assigned ID; note that the string is duplicated, so the original string that is passed to this function does not need ot be kept in memory.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash table to add to. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The string to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a (new or existing) entry </dd></dl>

<p>References <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="cl_8h.html#a6647d75d1d69c7d25447da514b7e4682">cl_strdup()</a>, <a class="el" href="struct__cl__lexhash__entry.html#a22cfc15110f0fbe32289d1946195400b">_cl_lexhash_entry::data</a>, <a class="el" href="struct__cl__lexhash.html#a05de9d2e9fdfcc8bf932ca13b95ede29">_cl_lexhash::entries</a>, <a class="el" href="struct__cl__lexhash__entry.html#ada8140e33c3fd1e2eceba4c71f0e9ded">_cl_lexhash_entry::freq</a>, <a class="el" href="struct__cl__lexhash__entry.html#a7441ef0865bcb3db9b8064dd7375c1ea">_cl_lexhash_entry::id</a>, <a class="el" href="struct__cl__lexhash__entry_1_1__cl__lexhash__entry__data.html#adece183191b0e700e039e59101e06105">_cl_lexhash_entry_data::integer</a>, <a class="el" href="struct__cl__lexhash__entry.html#a5892a9181e6a332f84d27aecd41dcd12">_cl_lexhash_entry::key</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, <a class="el" href="struct__cl__lexhash.html#a1512c88bd8da4ca8a0e54b3ed62f758c">_cl_lexhash::next_id</a>, <a class="el" href="struct__cl__lexhash__entry_1_1__cl__lexhash__entry__data.html#ab1452a99cdc447426bebe58208125847">_cl_lexhash_entry_data::numeric</a>, <a class="el" href="struct__cl__lexhash__entry_1_1__cl__lexhash__entry__data.html#abc7cbbec1f024bd23164936bd765b06d">_cl_lexhash_entry_data::pointer</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

<p>Referenced by <a class="el" href="cwb-encode_8c.html#af99342049f0c726b2e1223b1f5c7feab">addline()</a>, <a class="el" href="cwb-encode_8c.html#ab80a63938c6804f9600afdf8ccb6bfc0">close_range()</a>, <a class="el" href="cwb-encode_8c.html#a24c98c7fc24344b98cf63c129d68d066">declare_range()</a>, <a class="el" href="cwb-align_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="cwb-encode_8c.html#adff58f0a1109dd9e778ba480c6b33327">open_range()</a>, and <a class="el" href="cwb-s-encode_8c.html#ac5af382b8e183eeafb5671e7f33619bd">write_region_to_disk()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b0094a802868b6f907460cc3fa3e69d"></a><!-- doxytag: member="lexhash.c::cl_lexhash_auto_grow" ref="a2b0094a802868b6f907460cc3fa3e69d" args="(cl_lexhash hash, int flag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_lexhash_auto_grow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turns a cl_lexhash's ability to autogrow on or off. </p>
<p>When this setting is switched on, the lexhash will grow automatically to avoid performance degradation.</p>
<p>Note the default value for this setting is SWITCHED ON.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30" title="Grows a lexhash table, increasing the number of buckets, if necessary.">cl_lexhash_check_grow</a> </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash that will be affected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flag</em>&nbsp;</td><td>New value for autogrow setting: boolean where true is on and false is off. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="struct__cl__lexhash.html#ac3cf5e46d2c8377c553d7e583884511d">_cl_lexhash::auto_grow</a>.</p>

</div>
</div>
<a class="anchor" id="ab0c83bcda2f4b258d99d41dcfef1dd30"></a><!-- doxytag: member="lexhash.c::cl_lexhash_check_grow" ref="ab0c83bcda2f4b258d99d41dcfef1dd30" args="(cl_lexhash hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_lexhash_check_grow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Grows a lexhash table, increasing the number of buckets, if necessary. </p>
<p>This function checks whether growing the hash is necessary by updating the performance estimate. If it is above the threshold, and auto_grow is enabled, then the hashes is expanded by increasing the number of buckets, such that the average fill rate is 1 (i.e. 1 lexhash_entry per bucket, 1 lexhash index == 1 key-string ... on average). This gives the hash better performance and makes it capable of absorbing more keys.</p>
<p>Note: this function also implements the hashing algorithm and must be consistent with <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1" title="Finds the entry corresponding to a particular string in a cl_lexhash.">cl_lexhash_find_i()</a>.</p>
<p>Usage: expanded = <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30" title="Grows a lexhash table, increasing the number of buckets, if necessary.">cl_lexhash_check_grow(cl_lexhash hash)</a>;</p>
<p>This is a non-exported function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The lexhash to autogrow. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Always 0. </dd></dl>

<p>References <a class="el" href="struct__cl__lexhash.html#ac3cf5e46d2c8377c553d7e583884511d">_cl_lexhash::auto_grow</a>, <a class="el" href="struct__cl__lexhash.html#aedff83072c3ab4f3719e66edc63610d8">_cl_lexhash::buckets</a>, <a class="el" href="globals_8c.html#a5c4290325b240eac5fe1542a8743286a">cl_debug</a>, <a class="el" href="cl_8h.html#a9e15a3c725711d9effd623b2f3e225be">cl_free</a>, <a class="el" href="cl_8h.html#a44f2692c5af7f16fc46640e31c7ae192">cl_new_lexhash()</a>, <a class="el" href="struct__cl__lexhash.html#aad08dd1b691e8c7d1411d8f24e53ecd0">_cl_lexhash::comparisons</a>, <a class="el" href="lexhash_8c.html#ad27dac711f9de482cf13dfc917f5f9d7">DEFAULT_PERFORMANCE_LIMIT</a>, <a class="el" href="struct__cl__lexhash.html#a05de9d2e9fdfcc8bf932ca13b95ede29">_cl_lexhash::entries</a>, <a class="el" href="lexhash_8c.html#ac7b0e59697b408e515f7dd9b3d62b024">hash_string()</a>, <a class="el" href="struct__cl__lexhash__entry.html#a5892a9181e6a332f84d27aecd41dcd12">_cl_lexhash_entry::key</a>, <a class="el" href="struct__cl__lexhash.html#a4f81948d6e23cc76a0f3c5dc18a34677">_cl_lexhash::last_performance</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, <a class="el" href="lexhash_8c.html#af62ae8c142d859bd44a8c60c2d2cef3f">PERFORMANCE_COUNT</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

<p>Referenced by <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>.</p>

</div>
</div>
<a class="anchor" id="a51838f1751d9079cd17b9c35955d3fff"></a><!-- doxytag: member="lexhash.c::cl_lexhash_del" ref="a51838f1751d9079cd17b9c35955d3fff" args="(cl_lexhash hash, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_lexhash_del </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes a string from a hash. </p>
<p>The entry corresponding to the specified string is removed from the lexhash. If the string is not in the lexhash to begin with, no action is taken.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to alter. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The string to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The frequency of the deleted entry. </dd></dl>

<p>References <a class="el" href="lexhash_8c.html#aa86b95ad85c13af5a6879bd7a6c0da0e">cl_delete_lexhash_entry()</a>, <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>, <a class="el" href="struct__cl__lexhash.html#a05de9d2e9fdfcc8bf932ca13b95ede29">_cl_lexhash::entries</a>, <a class="el" href="struct__cl__lexhash__entry.html#ada8140e33c3fd1e2eceba4c71f0e9ded">_cl_lexhash_entry::freq</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

</div>
</div>
<a class="anchor" id="adfe47c1ca6be1ba4fa1586aad18f07d5"></a><!-- doxytag: member="lexhash.c::cl_lexhash_find" ref="adfe47c1ca6be1ba4fa1586aad18f07d5" args="(cl_lexhash hash, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> cl_lexhash_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds the entry corresponding to a particular string within a cl_lexhash. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The key-string to look for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The entry that is found (or NULL if the string is not in the hash). </dd></dl>

<p>References <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>.</p>

<p>Referenced by <a class="el" href="cwb-encode_8c.html#ab80a63938c6804f9600afdf8ccb6bfc0">close_range()</a>, <a class="el" href="cwb-align_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="cwb-encode_8c.html#adff58f0a1109dd9e778ba480c6b33327">open_range()</a>, <a class="el" href="cwb-encode_8c.html#ae5c2bb32a75d86bb872cc2887476d60b">print_range_registry_line()</a>, and <a class="el" href="cwb-s-encode_8c.html#ac5af382b8e183eeafb5671e7f33619bd">write_region_to_disk()</a>.</p>

</div>
</div>
<a class="anchor" id="a7afb45b7d798d20514dd22f2c8d1f8f1"></a><!-- doxytag: member="lexhash.c::cl_lexhash_find_i" ref="a7afb45b7d798d20514dd22f2c8d1f8f1" args="(cl_lexhash hash, char *token, unsigned int *ret_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__cl__lexhash__entry.html">cl_lexhash_entry</a> cl_lexhash_find_i </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&nbsp;</td>
          <td class="paramname"> <em>ret_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds the entry corresponding to a particular string in a cl_lexhash. </p>
<p>This function is the same as <a class="el" href="cl_8h.html#a40ecd11b83d5d4e90a47dbbc448de7e2" title="Finds the entry corresponding to a particular string within a cl_lexhash.">cl_lexhash_find()</a>, but *ret_offset is set to the hashtable offset computed for token (i.e. the index of the bucket within the hashtable), unless *ret_offset == NULL.</p>
<p>Note that this function hides the hashing algorithm details from the rest of the lexhash implementation.</p>
<p>Usage: entry = <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1" title="Finds the entry corresponding to a particular string in a cl_lexhash.">cl_lexhash_find_i(cl_lexhash hash, char *token, unsigned int *ret_offset)</a>;</p>
<p>This is a non-exported function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to search. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The key-string to look for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ret_offset</em>&nbsp;</td><td>This integer address will be filled with the token's hashtable offset. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The entry that is found (or NULL if the string is not in the hash). </dd></dl>

<p>References <a class="el" href="struct__cl__lexhash.html#aedff83072c3ab4f3719e66edc63610d8">_cl_lexhash::buckets</a>, <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow()</a>, <a class="el" href="struct__cl__lexhash.html#aad08dd1b691e8c7d1411d8f24e53ecd0">_cl_lexhash::comparisons</a>, <a class="el" href="lexhash_8c.html#ac7b0e59697b408e515f7dd9b3d62b024">hash_string()</a>, <a class="el" href="struct__cl__lexhash__entry.html#a5892a9181e6a332f84d27aecd41dcd12">_cl_lexhash_entry::key</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, <a class="el" href="lexhash_8c.html#af62ae8c142d859bd44a8c60c2d2cef3f">PERFORMANCE_COUNT</a>, <a class="el" href="struct__cl__lexhash.html#a43e64deb897346963994a5f2957a0e12">_cl_lexhash::performance_counter</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

<p>Referenced by <a class="el" href="lexhash_8c.html#a4a0eb190bffe4ca27d93a2248aa63d9b">cl_lexhash_add()</a>, <a class="el" href="lexhash_8c.html#a51838f1751d9079cd17b9c35955d3fff">cl_lexhash_del()</a>, <a class="el" href="lexhash_8c.html#adfe47c1ca6be1ba4fa1586aad18f07d5">cl_lexhash_find()</a>, <a class="el" href="lexhash_8c.html#aa6ad8b1b54ae4f1e24a4fe1aa16679d8">cl_lexhash_freq()</a>, and <a class="el" href="lexhash_8c.html#aae0563fa62a9c58eca14ea76576d0d68">cl_lexhash_id()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6ad8b1b54ae4f1e24a4fe1aa16679d8"></a><!-- doxytag: member="lexhash.c::cl_lexhash_freq" ref="aa6ad8b1b54ae4f1e24a4fe1aa16679d8" args="(cl_lexhash hash, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_lexhash_freq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the frequency of a particular string within a lexhash. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The string to look for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The frrequency of that string, or 0 if the string is not in the hash (whgich is, of course, actually its frequency). </dd></dl>

<p>References <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>, and <a class="el" href="struct__cl__lexhash__entry.html#ada8140e33c3fd1e2eceba4c71f0e9ded">_cl_lexhash_entry::freq</a>.</p>

<p>Referenced by <a class="el" href="cwb-encode_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a>, and <a class="el" href="cwb-encode_8c.html#adff58f0a1109dd9e778ba480c6b33327">open_range()</a>.</p>

</div>
</div>
<a class="anchor" id="aae0563fa62a9c58eca14ea76576d0d68"></a><!-- doxytag: member="lexhash.c::cl_lexhash_id" ref="aae0563fa62a9c58eca14ea76576d0d68" args="(cl_lexhash hash, char *token)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_lexhash_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>token</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the ID of a particular string within a lexhash. </p>
<p>Note this is the ID integer that identifies THAT PARTICULAR STRING, not the hash value of that string - which only identifies the bucket the string is found in!</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to look in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>token</em>&nbsp;</td><td>The string to look for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The ID code of that string, or -1 if the string is not in the hash. </dd></dl>

<p>References <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>, and <a class="el" href="struct__cl__lexhash__entry.html#a7441ef0865bcb3db9b8064dd7375c1ea">_cl_lexhash_entry::id</a>.</p>

<p>Referenced by <a class="el" href="cwb-encode_8c.html#af99342049f0c726b2e1223b1f5c7feab">addline()</a>, and <a class="el" href="cwb-encode_8c.html#a24c98c7fc24344b98cf63c129d68d066">declare_range()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b6c6f31923d6d5038067753b93f234f"></a><!-- doxytag: member="lexhash.c::cl_lexhash_set_cleanup_function" ref="a5b6c6f31923d6d5038067753b93f234f" args="(cl_lexhash hash, cl_lexhash_cleanup_func func)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cl_lexhash_set_cleanup_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="lexhash_8c.html#a9cf68d16ee9092cf807d1620de957c3a">cl_lexhash_cleanup_func</a>&nbsp;</td>
          <td class="paramname"> <em>func</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the cleanup function for a cl_lexhash. </p>
<p>The cleanup function is called with a cl_lexhash_entry argument; it should delete any objects assocated with the entry's data field.</p>
<p>The cleanup function is initially set to NULL, i.e. run no function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The cl_lexhash to work with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>func</em>&nbsp;</td><td>Pointer to the function to use for cleanup. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="struct__cl__lexhash.html#a34fa040454883b11c906b5127080e586">_cl_lexhash::cleanup_func</a>.</p>

</div>
</div>
<a class="anchor" id="abab373e5a4e2dd99dec63b13fc37faed"></a><!-- doxytag: member="lexhash.c::cl_lexhash_size" ref="abab373e5a4e2dd99dec63b13fc37faed" args="(cl_lexhash hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cl_lexhash_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a>&nbsp;</td>
          <td class="paramname"> <em>hash</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the number of different strings stored in a lexhash. </p>
<p>This returns the total number of entries in all the bucket linked-lists in the whole hashtable.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The hash to size up. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="struct__cl__lexhash.html#aedff83072c3ab4f3719e66edc63610d8">_cl_lexhash::buckets</a>, <a class="el" href="struct__cl__lexhash__entry.html#a4cd53665f36adf07de9ffb12731a6681">_cl_lexhash_entry::next</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

</div>
</div>
<a class="anchor" id="a44f2692c5af7f16fc46640e31c7ae192"></a><!-- doxytag: member="lexhash.c::cl_new_lexhash" ref="a44f2692c5af7f16fc46640e31c7ae192" args="(int buckets)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__cl__lexhash.html">cl_lexhash</a> cl_new_lexhash </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>buckets</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new cl_lexhash object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buckets</em>&nbsp;</td><td>The number of buckets in the newly-created cl_lexhash; set to 0 to use the default number of buckets. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The new cl_lexhash. </dd></dl>

<p>References <a class="el" href="struct__cl__lexhash.html#ac3cf5e46d2c8377c553d7e583884511d">_cl_lexhash::auto_grow</a>, <a class="el" href="struct__cl__lexhash.html#aedff83072c3ab4f3719e66edc63610d8">_cl_lexhash::buckets</a>, <a class="el" href="cl_8h.html#a5b756594ae431fd5ec0ffbdc77db1e64">cl_calloc()</a>, <a class="el" href="cl_8h.html#a4e4eccd789155123ab533ed0cecbecea">cl_malloc()</a>, <a class="el" href="struct__cl__lexhash.html#a34fa040454883b11c906b5127080e586">_cl_lexhash::cleanup_func</a>, <a class="el" href="struct__cl__lexhash.html#aad08dd1b691e8c7d1411d8f24e53ecd0">_cl_lexhash::comparisons</a>, <a class="el" href="lexhash_8c.html#aa6f810c5bcfe8eaba4aa5d527bafb9cf">DEFAULT_NR_OF_BUCKETS</a>, <a class="el" href="struct__cl__lexhash.html#a05de9d2e9fdfcc8bf932ca13b95ede29">_cl_lexhash::entries</a>, <a class="el" href="lexhash_8c.html#a6bb4d75c3e8354cff3efd98002335877">find_prime()</a>, <a class="el" href="struct__cl__lexhash.html#a4f81948d6e23cc76a0f3c5dc18a34677">_cl_lexhash::last_performance</a>, <a class="el" href="struct__cl__lexhash.html#a1512c88bd8da4ca8a0e54b3ed62f758c">_cl_lexhash::next_id</a>, <a class="el" href="lexhash_8c.html#af62ae8c142d859bd44a8c60c2d2cef3f">PERFORMANCE_COUNT</a>, <a class="el" href="struct__cl__lexhash.html#a43e64deb897346963994a5f2957a0e12">_cl_lexhash::performance_counter</a>, and <a class="el" href="struct__cl__lexhash.html#ad0daa1068fff9eb5bb9e11e7ab4f2b1e">_cl_lexhash::table</a>.</p>

<p>Referenced by <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow()</a>, <a class="el" href="cwb-encode_8c.html#a24c98c7fc24344b98cf63c129d68d066">declare_range()</a>, <a class="el" href="cwb-encode_8c.html#a715be4b1e2130e65d5911a14aa355bfb">declare_wattr()</a>, <a class="el" href="cwb-align_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, and <a class="el" href="cwb-s-encode_8c.html#ac5af382b8e183eeafb5671e7f33619bd">write_region_to_disk()</a>.</p>

</div>
</div>
<a class="anchor" id="a6bb4d75c3e8354cff3efd98002335877"></a><!-- doxytag: member="lexhash.c::find_prime" ref="a6bb4d75c3e8354cff3efd98002335877" args="(int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_prime </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns smallest prime &gt;= n. </p>

<p>Referenced by <a class="el" href="lexhash_8c.html#a44f2692c5af7f16fc46640e31c7ae192">cl_new_lexhash()</a>, <a class="el" href="cwb-scan-corpus_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main()</a>, <a class="el" href="server_8h.html#a6f81c046570703b84676139d556f53ad">make_attribute_hash()</a>, and <a class="el" href="macro_8c.html#a603effb8b3d1fa34860f313311e1dcef">MakeMacroHash()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7b0e59697b408e515f7dd9b3d62b024"></a><!-- doxytag: member="lexhash.c::hash_string" ref="ac7b0e59697b408e515f7dd9b3d62b024" args="(char *string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int hash_string </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>string</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes 32bit hash value for string. </p>

<p>Referenced by <a class="el" href="server_8c.html#ae08e9f05d751077e190df68c373fdcfc">att_hash_lookup()</a>, <a class="el" href="lexhash_8c.html#ab0c83bcda2f4b258d99d41dcfef1dd30">cl_lexhash_check_grow()</a>, and <a class="el" href="lexhash_8c.html#a7afb45b7d798d20514dd22f2c8d1f8f1">cl_lexhash_find_i()</a>.</p>

</div>
</div>
<a class="anchor" id="ad6740255386952216cb75d813243a3ea"></a><!-- doxytag: member="lexhash.c::is_prime" ref="ad6740255386952216cb75d813243a3ea" args="(int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int is_prime </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns True iff n is a prime. </p>

<p>Referenced by <a class="el" href="hash_8h.html#a6bb4d75c3e8354cff3efd98002335877">find_prime()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Sun Feb 28 18:08:04 2010 for CWB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
